<!DOCTYPE html><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Speech to Text</title><style>body{font-family:sans-serif;background:#1a1a1a;color:#e0e0e0;margin:0;padding:8px;display:flex;justify-content:center;align-items:center;min-height:100vh}#m{background:#2c2c2e;border-radius:8px;border:1px solid #444;width:100%;max-width:800px;padding:16px;box-sizing:border-box}h1{text-align:center;color:#2997ff;margin:0 0 16px}#c{text-align:center;margin-bottom:12px}#B{background:#30d158;color:#fff;border:0;padding:10px 20px;font-size:16px;font-weight:700;border-radius:6px;cursor:pointer}#B:hover{background:#28b84b}#B.l{background:#ff453a}#B.l:hover{background:#ff2d23}#S{margin-top:8px;font-size:14px;color:#b0b0b0;min-height:18px}#R{border:1px solid #444;border-radius:6px;padding:12px;height:300px;overflow-y:auto;margin-bottom:12px;line-height:1.6}#R p{margin:0 0 8px;padding-left:5px;position:relative}#R p::before{content:"["attr(data-t)"]";color:#9e9e9e;font-size:.8em;font-family:monospace;margin-right:8px;user-select:none;-webkit-user-select:none;-moz-user-select:none}.i{color:#999}h2{font-size:1.1em;color:#e0e0e0;border-bottom:1px solid #444;padding-bottom:5px;margin:16px 0 8px}#F{width:100%;height:150px;border:1px solid #444;background:#222;color:#e0e0e0;border-radius:6px;padding:10px;font-size:16px;resize:vertical;box-sizing:border-box}#C{background:#2997ff;color:#fff;border:0;padding:8px 16px;font-size:16px;border-radius:6px;cursor:pointer;margin-top:8px}#C:hover{background:#1a88e8}</style><div id=m><h1>Speech-to-Text Tool</h1><div id=c><button id=B>Start Listening</button><p id=S>Status: Idle. Click button to grant mic access.</p></div><div id=R></div><div><h2>Easy Copy & Paste Text</h2><textarea id=F readonly placeholder="Your clean, copyable text will appear here..."></textarea><button id=C>Copy All Text</button></div></div><script>let r,L=0;const W=window.SpeechRecognition||window.webkitSpeechRecognition,T=t=>{const e=document.createElement("p");e.dataset.t=(new Date).toTimeString().slice(0,8),e.textContent=t[0].toUpperCase()+t.slice(1),R.appendChild(e),R.scrollTop=R.scrollHeight},U=()=>{let t="";R.querySelectorAll("p:not(.i)").forEach(e=>{t+=e.textContent+" "}),F.value=t.trim()};W?(r=new W,r.continuous=1,r.interimResults=1,r.lang="en-US",r.onstart=()=>{L=1,S.textContent="Status: Listening...",B.textContent="Stop Listening",B.classList.add("l")},r.onend=()=>{L=0,S.textContent="Status: Idle. Click to start again.",B.textContent="Start Listening",B.classList.remove("l")},r.onerror=e=>S.textContent=`Error: ${e.error}`,r.onresult=e=>{let t="",n="";for(let c=e.resultIndex;c<e.results.length;++c)e.results[c].isFinal?n+=e.results[c][0].transcript:t+=e.results[c][0].transcript;if(n.trim()&&T(n.trim()),U(),document.querySelector(".i")?.remove(),t){const c=document.createElement("p");c.className="i",c.textContent=t,R.appendChild(c)}},B.onclick=()=>L?r.stop():r.start()):(S.textContent="Unsupported Browser",B.disabled=1),C.onclick=()=>{F.value&&navigator.clipboard.writeText(F.value).then(()=>{const t=C.textContent;C.textContent="Copied!",setTimeout(()=>C.textContent=t,2e3)})}</script>
